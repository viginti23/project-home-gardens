{% extends "home/base.html" %}
{% block content %}

<div class="row d-flex justify-content-center">

    {% for offer in offers %}
        <div class="col-12 col-sm-6 col-md-4 col-lg-3 ">
            <div class="card content-section2  w-100 my-3 shadow-lg " style='padding: 0'>

                <div class="card-header">
                    <h3>{{ offer.title }}</h3>
                </div>
                <a href="{{ offer.get_absolute_url }}">
                    <img src="{{ offer.offergalleryimage_set.all.first.gallery_image.url }}"
                    class="card-img-top img-fluid mx-auto mw-100"
                    alt="cover-photo"></a>
                <div class="card-body mx-auto">
                    <h5 class="card-title text-center py-1">{{ offer.price }} zł</h5>
                    <a href="{{ offer.get_absolute_url }}" class="btn btn-primary">Zobacz ogłoszenie</a>
                </div>
                <div class='card-footer mx-auto w-100'>
                    <p class="card-text">{{ offer.date_posted|timesince }} temu </p>
                </div>
            </div>
        </div>

    {% empty %}
        <div class="row align-items-center">
            <div class="col">
                <div class='content-section2 shadow-lg'>
                    <h4 class="text-center display-4 pt-2">Chwilowo brak ofert!</h4>
                </div>
            </div>
        </div>
    {% endfor %}
</div>

    {% if is_paginated %}

      {% if page_obj.has_previous %}
        <a class="btn btn-outline-info mb-4" href="?page=1">Pierwsza</a>
        <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.previous_page_number }}">Poprzednia</a>
      {% endif %}

      {% for num in page_obj.paginator.page_range %}
        {% if page_obj.number == num %}
          <a class="btn btn-info mb-4" href="?page={{ num }}">{{ num }}</a>
        {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
          <a class="btn btn-outline-info mb-4" href="?page={{ num }}">{{ num }}</a>
        {% endif %}
      {% endfor %}

      {% if page_obj.has_next %}
        <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.next_page_number }}">Następna</a>
        <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.paginator.num_pages }}">Ostatnia</a>
      {% endif %}

    {% endif %}


{% endblock content %}








